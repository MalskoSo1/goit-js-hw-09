{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nlet formData = { email: '', message: '' };\n\n// take data for values in formData from local storage\ntry {\n  formData = JSON.parse(localStorage.getItem(localStorageKey)) ?? {\n    email: '',\n    message: '',\n  };\n} catch (error) {\n  formData = { email: '', message: '' };\n}\n\n// add old values when refresh pages\nform.elements.email.value = formData.email;\nform.elements.message.value = formData.message;\n\n// function get values from input\nconst onInput = event => {\n  const target = event.target;\n\n  formData[target.name] = target.value.trim();\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n};\n\n// function press button submit\nconst onSubmit = event => {\n  event.preventDefault();\n\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n\n  formData = { email: '', message: '' };\n  localStorage.removeItem(localStorageKey);\n  form.reset();\n};\n\n// add events\nform.addEventListener('input', onInput);\n\nform.addEventListener('submit', onSubmit);\n"],"names":["form","localStorageKey","formData","onInput","event","target","onSubmit"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGvC,GAAI,CACFA,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,GAAK,CAC9D,MAAO,GACP,QAAS,EACb,CACA,MAAgB,CACdC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAGAF,EAAK,SAAS,MAAM,MAAQE,EAAS,MACrCF,EAAK,SAAS,QAAQ,MAAQE,EAAS,QAGvC,MAAMC,EAAUC,GAAS,CACvB,MAAMC,EAASD,EAAM,OAErBF,EAASG,EAAO,IAAI,EAAIA,EAAO,MAAM,OACrC,aAAa,QAAQJ,EAAiB,KAAK,UAAUC,CAAQ,CAAC,CAChE,EAGMI,EAAWF,GAAS,CAGxB,GAFAA,EAAM,eAAc,EAEhBF,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EAEpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWD,CAAe,EACvCD,EAAK,MAAK,CACZ,EAGAA,EAAK,iBAAiB,QAASG,CAAO,EAEtCH,EAAK,iBAAiB,SAAUM,CAAQ"}